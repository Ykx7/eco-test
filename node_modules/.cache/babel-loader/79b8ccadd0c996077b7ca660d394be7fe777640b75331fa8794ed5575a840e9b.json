{"ast":null,"code":"import _objectSpread from\"C:/Users/painx/Desktop/all-projects/eco-project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// CartContext.js\nimport{createContext,useContext,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const CartContext=/*#__PURE__*/createContext();export const CartProvider=_ref=>{let{children}=_ref;const[cartItems,setCartItems]=useState(()=>{const storedCart=localStorage.getItem(\"cartItems\");return storedCart?JSON.parse(storedCart):[];});useEffect(()=>{localStorage.setItem(\"cartItems\",JSON.stringify(cartItems));},[cartItems]);const addToCart=product=>{setCartItems(prev=>{const existing=prev.find(item=>item.id===product.id);if(existing){return prev.map(item=>item.id===product.id?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item);}else{return[...prev,_objectSpread(_objectSpread({},product),{},{quantity:1})];}});};const removeFromCart=id=>{setCartItems(prev=>prev.filter(item=>item.id!==id));};const updateQuantity=(id,delta)=>{setCartItems(prev=>prev.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{quantity:Math.max(1,item.quantity+delta)}):item));};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cartItems,addToCart,removeFromCart,updateQuantity},children:children});};export const useCart=()=>useContext(CartContext);","map":{"version":3,"names":["createContext","useContext","useState","useEffect","jsx","_jsx","CartContext","CartProvider","_ref","children","cartItems","setCartItems","storedCart","localStorage","getItem","JSON","parse","setItem","stringify","addToCart","product","prev","existing","find","item","id","map","_objectSpread","quantity","removeFromCart","filter","updateQuantity","delta","Math","max","Provider","value","useCart"],"sources":["C:/Users/painx/Desktop/all-projects/eco-project/frontend/src/Context/CartContext.jsx"],"sourcesContent":["// CartContext.js\r\nimport { createContext, useContext, useState, useEffect } from \"react\";\r\n\r\nconst CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [cartItems, setCartItems] = useState(() => {\r\n    const storedCart = localStorage.getItem(\"cartItems\");\r\n    return storedCart ? JSON.parse(storedCart) : [];\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n  }, [cartItems]);\r\n\r\n  const addToCart = (product) => {\r\n    setCartItems(prev => {\r\n      const existing = prev.find(item => item.id === product.id);\r\n      if (existing) {\r\n        return prev.map(item =>\r\n          item.id === product.id\r\n            ? { ...item, quantity: item.quantity + 1 }\r\n            : item\r\n        );\r\n      } else {\r\n        return [...prev, { ...product, quantity: 1 }];\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeFromCart = (id) => {\r\n    setCartItems(prev => prev.filter(item => item.id !== id));\r\n  };\r\n\r\n  const updateQuantity = (id, delta) => {\r\n    setCartItems(prev =>\r\n      prev.map(item =>\r\n        item.id === id\r\n          ? { ...item, quantity: Math.max(1, item.quantity + delta) }\r\n          : item\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={{ cartItems, addToCart, removeFromCart, updateQuantity }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCart = () => useContext(CartContext);\r\n"],"mappings":"6IAAA;AACA,OAASA,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEvE,KAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,CAAC,CAEnC,MAAO,MAAM,CAAAO,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACvC,KAAM,CAACE,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,IAAM,CAC/C,KAAM,CAAAU,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CACpD,MAAO,CAAAF,UAAU,CAAGG,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAG,EAAE,CACjD,CAAC,CAAC,CAEFT,SAAS,CAAC,IAAM,CACdU,YAAY,CAACI,OAAO,CAAC,WAAW,CAAEF,IAAI,CAACG,SAAS,CAACR,SAAS,CAAC,CAAC,CAC9D,CAAC,CAAE,CAACA,SAAS,CAAC,CAAC,CAEf,KAAM,CAAAS,SAAS,CAAIC,OAAO,EAAK,CAC7BT,YAAY,CAACU,IAAI,EAAI,CACnB,KAAM,CAAAC,QAAQ,CAAGD,IAAI,CAACE,IAAI,CAACC,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKL,OAAO,CAACK,EAAE,CAAC,CAC1D,GAAIH,QAAQ,CAAE,CACZ,MAAO,CAAAD,IAAI,CAACK,GAAG,CAACF,IAAI,EAClBA,IAAI,CAACC,EAAE,GAAKL,OAAO,CAACK,EAAE,CAAAE,aAAA,CAAAA,aAAA,IACbH,IAAI,MAAEI,QAAQ,CAAEJ,IAAI,CAACI,QAAQ,CAAG,CAAC,GACtCJ,IACN,CAAC,CACH,CAAC,IAAM,CACL,MAAO,CAAC,GAAGH,IAAI,CAAAM,aAAA,CAAAA,aAAA,IAAOP,OAAO,MAAEQ,QAAQ,CAAE,CAAC,GAAG,CAC/C,CACF,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAC,cAAc,CAAIJ,EAAE,EAAK,CAC7Bd,YAAY,CAACU,IAAI,EAAIA,IAAI,CAACS,MAAM,CAACN,IAAI,EAAIA,IAAI,CAACC,EAAE,GAAKA,EAAE,CAAC,CAAC,CAC3D,CAAC,CAED,KAAM,CAAAM,cAAc,CAAGA,CAACN,EAAE,CAAEO,KAAK,GAAK,CACpCrB,YAAY,CAACU,IAAI,EACfA,IAAI,CAACK,GAAG,CAACF,IAAI,EACXA,IAAI,CAACC,EAAE,GAAKA,EAAE,CAAAE,aAAA,CAAAA,aAAA,IACLH,IAAI,MAAEI,QAAQ,CAAEK,IAAI,CAACC,GAAG,CAAC,CAAC,CAAEV,IAAI,CAACI,QAAQ,CAAGI,KAAK,CAAC,GACvDR,IACN,CACF,CAAC,CACH,CAAC,CAED,mBACEnB,IAAA,CAACC,WAAW,CAAC6B,QAAQ,EAACC,KAAK,CAAE,CAAE1B,SAAS,CAAES,SAAS,CAAEU,cAAc,CAAEE,cAAe,CAAE,CAAAtB,QAAA,CACnFA,QAAQ,CACW,CAAC,CAE3B,CAAC,CAED,MAAO,MAAM,CAAA4B,OAAO,CAAGA,CAAA,GAAMpC,UAAU,CAACK,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}